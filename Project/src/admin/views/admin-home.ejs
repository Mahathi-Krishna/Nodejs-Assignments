<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body onload= <% if (message) { %> myFunction() <% } %>>

<%- include('admin-header') %>

<div class="container" style="min-height: 550px;">
<br>
<div class="row">
  <div class="col-md-1"></div>
  <div class="col-md-3">
    <h3 class="navbar-brand"">Register a New User:</h3><br>

    <form action="/admin/register" method="post">
      <div class="mb-3">
        <label for="name" class="form-label">Name : </label>
        <input type="text" class="form-control" name="name" placeholder="Enter User Name">
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">Email : </label>
        <input type="email" class="form-control" name="email" placeholder="Enter User Email">
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Password : </label>
        <input type="text" class="form-control" name="password" placeholder="Enter a User Password">
      </div>
      <div class="form-check-label" style="margin-bottom: 10px;">
        <label class="form-check-label" style="padding-right: 10px;">Is Admin ?</label>
        <input class="form-check-input" type="radio" name="isadmin" id="isadmin" value="Y">
        <label class="form-check-label" style="padding-right: 10px;" for="isadmin">
          Yes
        </label>
        <input class="form-check-input" type="radio" name="isadmin" id="isadmin" value="N" checked>
        <label class="form-check-label" for="isadmin">
          No
        </label>
      </div>
      <div class="mb-3">
        <input type="submit" value="Register" class="btn btn-primary">
      </div>
    </form>
  </div>

  <div class="col-md-1"></div>
  <div class="col-md-3">
    <h3 class="navbar-brand"">Update a User:</h3><br>

    <form action="/admin/finduser" method="post">
      <div class="mb-3">
        <label for="email" class="form-label">Email : </label>
        <input type="email" class="form-control" name="email" placeholder="Enter User Email">
      </div>
      <div class="mb-3">
        <input type="submit" value="Find User" class="btn btn-primary">
      </div>
    </form>
  </div>

  <% if (user) { %>
  <div class="col-md-3">
    <br><br><br>
    <form action="/admin/updateuser" method="post">
      <div class="mb-3">
        <label for="name" class="form-label">Name : </label>
        <input type="text" class="form-control" name="name" value= <%= user.name %>>
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">Email : </label>
        <input type="email" class="form-control" name="email" value= <%= user.email %>>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Password : </label>
        <input type="password" class="form-control" name="password" value= <%= user.password %>>
      </div>
      <div class="form-check-label" style="margin-bottom: 10px;">
        <label class="form-check-label" style="padding-right: 10px;">Is Admin ? : </label>
        <input class="form-check-input" type="radio" name="isadmin" id="isadmin" value="Y" <% if(user.isAdmin=="Y"){ %> checked <% } %>>
        <label class="form-check-label" style="padding-right: 10px;" for="isadmin">
          Yes
        </label>
        <input class="form-check-input" type="radio" name="isadmin" id="isadmin" value="N" <% if(user.isAdmin=="N"){ %> checked <% } %>>
        <label class="form-check-label" for="isadmin">
          No
        </label>
      </div>
      <div class="form-check-label" style="margin-bottom: 10px;">
        <label class="form-check-label" style="padding-right: 10px;">Delete User ? : </label>
        <input class="form-check-input" type="radio" name="isdelete" id="isdelete" value="Y">
        <label class="form-check-label" style="padding-right: 10px;" for="isdelete">
          Yes
        </label>
        <input class="form-check-input" type="radio" name="isdelete" id="isdelete" value="N" checked>
        <label class="form-check-label" for="isdelete">
          No
        </label>
      </div>      
      <div class="mb-3">
        <input type="submit" value="Update" class="btn btn-primary">
      </div>
    </form>
  </div>

  <% } %>
</div>

</div>

<%- include('footer') %>

<script>
  function myFunction() {
    alert("<%= message %>");
  }
</script>

</body>
</html>